<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title><%= event.title %></title>
</head>
<body>

  <!-- Imagem e mapa -->
  <section>
    <img src="<%= event.photo || '/default.jpg' %>" alt="Imagem do evento">
    <div>Mapa com marcador (aqui você pode colocar um iframe com mapa futuramente)</div>
  </section>

  <!-- Descrição -->
  <section>
    <p><%= event.description %></p>
  </section>

  <!-- O que inclui -->
  <section>
    <h2>Inclui:</h2>
    <% if (event.included) { %>
      <ul>
        <% event.included.split(',').forEach(item => { %>
          <li><%= item.trim() %></li>
        <% }) %>
      </ul>
    <% } else { %>
      <p>Informação não disponível</p>
    <% } %>
  </section>

  <!-- Detalhes -->
  <section>
    <p><strong>Local:</strong> <%= event.place || 'Local não especificado' %></p>
    <p><strong>Duração:</strong> <%= event.duration || 'N/A' %></p>
    <p><strong>Valor:</strong> R$ <%= event.price || 'N/A' %></p>
    <p><strong>Capacidade:</strong> <%= event.capacity || 'N/A' %></p>
    <p><strong>Avaliação:</strong> <%= event.rating || 'N/A' %></p>
  </section>

  <!-- Datas e horários -->
  <section>
  <h3>Próximas datas e horários:</h3>
  <% if (event.dates && event.dates.length > 0) { %>
    <div id="datetimeButtons" style="display: flex; flex-wrap: wrap; gap: 10px;">
      <% event.dates.forEach(datetime => { %>
        <button 
          type="button" 
          class="datetime-option" 
          data-datetime="<%= new Date(datetime).toISOString() %>">
          <%= new Date(datetime).toLocaleString('pt-BR', { dateStyle: 'short', timeStyle: 'short' }) %>
        </button>
      <% }) %>
    </div>
    <div id="selectedDatetime" style="margin-top: 1em;"></div>
    <button id="confirmBtn" style="display:none; margin-top: 1em;">Confirmar inscrição</button>
  <% } else { %>
    <p>Sem datas disponíveis.</p>
  <% } %>
</section>


  <!-- Avaliações -->
  <section>
    <h3>Avaliações</h3>
    <% if (event.reviews && event.reviews.length > 0) { %>
      <% event.reviews.forEach(review => { %>
        <div>
          <p><%= review.comment %></p>
          <p>Avaliação: <%= review.rating %></p>
          <p>Data: <%= review.date ? review.date.toLocaleDateString() : '' %></p>
        </div>
      <% }) %>
    <% } else { %>
      <p>Sem avaliações ainda.</p>
    <% } %>
  </section>

  <script src="/js/timerSelector.js"></script>
</body>
</html>
