<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Usuários</title>
</head>
<body>
  <h1>Cadastro de Usuários</h1>

  <!-- Formulário para adicionar usuário -->
  <form action="/users" method="POST">
    <input name="name" placeholder="Nome do usuário" required>
    <input name="email" placeholder="Email do usuário" required>
    <input type="password" name="password" placeholder="Senha" required>
    <input name="photo" placeholder="URL da foto" required>
    <textarea name="preferences" placeholder="Preferências" required></textarea>
    <button type="submit">Adicionar</button>
  </form>

  <hr>

  <h2>Lista de Usuários</h2>
  <% users.forEach(user => { %>
    <!-- Editar usuário -->
    <form action="/users/edit/<%= user.id %>" method="POST" style="display:inline;">
      <input name="name" value="<%= user.name %>" required>
      <input name="email" value="<%= user.email %>" required>
      <input type="password" name="password" value="<%= user.password %>" required>
      <input name="photo" value="<%= user.photo %>" required>
      <textarea name="preferences" required><%= user.preferences %></textarea>
      <button type="submit">✏️</button>
    </form>

    <!-- Deletar usuário -->
    <form action="/users/delete/<%= user.id %>" method="POST" style="display:inline;">
      <button type="submit" onclick="return confirm('Tem certeza que deseja excluir?')">🗑️</button>
    </form>
    <br>
  <% }) %>
</body>
</html>